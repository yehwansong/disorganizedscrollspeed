<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no">
<meta charset="utf-8">
<style type="text/css">
	*{margin:0;}
	body{background: black}
	#wrapper{
		position: fixed;
		display: flex;
		width: 100vh;
		height: 100vh;
	}
	.inner{background-size: auto 20%;
		background-image: url('face.jpg');
		width: 100%;
		height: 500%;
		position: fixed;
		margin-top: -400vh;
		left: 0;
		top: 0}
		.scroll{
    height: 500vh;
    width: 100%;
    position: absolute;
		}
		.smooth{transition:0.3s;}
</style>
<title>Waypoints in Directions</title>
	<script
	src="https://code.jquery.com/jquery-3.4.1.min.js"
	integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
	crossorigin="anonymous"></script> 
</head>
<body>
	<div class="scroll"></div>
<div id="wrapper">
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
	<div class="inner"></div>
</div>
<script type="text/javascript">
	var scrolltimer
	var init = 0
	var updated = 0
	var unit = 100
	var scrollamount = 0
	var scrolling = false
	$(document).ready(function(){
		var h = window.innerHeight
    $(window).scroll(function (event) {
    	if(init == 0){
    		init = $(window).scrollTop();
    	}
    		updated = $(window).scrollTop();
    		console.log(center)

    	if(init>updated){
		    $('.inner').removeClass('smooth');
	        var sc = $(window).scrollTop();
	        for (var i = $('.inner').length - 1; i >= 0; i--) {
    			var center = Math.abs(i-(($('.inner').length-1)/2))
	        	$('.inner').eq(i).css({'top':sc/2+((center+2)*((updated - init)/unit))+'px'})
	        	console.log((updated - init)/unit)
	        }




		    clearTimeout(scrolltimer)
		    scrolltimer = setTimeout(function() {
		    	$('.inner').addClass('smooth');
		    	$('.inner').css({'top':sc/2+'px'})
		    	init = 0
		    }, 50);
    	}else{
    	if(init == 0){
    		init = $(window).scrollTop();
    	}
		    $('.inner').removeClass('smooth');
	        var sc = $(window).scrollTop();
	        for (var i = $('.inner').length - 1; i >= 0; i--) {
    			var center = Math.abs(i-(($('.inner').length-1)/2))
	        	$('.inner').eq(i).css({'top':sc/2+((center+2)*((updated - init)/unit))+'px'})
	        }


		    clearTimeout(scrolltimer)
		    scrolltimer = setTimeout(function() {
		    	$('.inner').addClass('smooth');
		    	$('.inner').css({'top':sc/2+'px'})
		    	init = 0
		    }, 50);
    	}
    });
		for (var i = $('.inner').length - 1; i >= 0; i--) {
			console.log($('.inner').eq(i).offset().left)
			$('.inner').eq(i).css({'background-position-x':(h/($('.inner').length)) * i * -1 + 'px'})
			$('.inner').eq(i).css({'left':(h/($('.inner').length)) * i + 'px'})
			$('.inner').eq(i).css({'width':h / $('.inner').length + 'px'})
		}

	})

</script>
</body>
</html>